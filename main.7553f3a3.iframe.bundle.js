(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{152:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return FetchingState})),__webpack_require__.d(__webpack_exports__,"b",(function(){return FetchingStateProvider}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),prop_types__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1),prop_types__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(13),FetchingState=react__WEBPACK_IMPORTED_MODULE_0___default.a.createContext(!1),FetchingStateProvider=function FetchingStateProvider(_ref){var children=_ref.children,fetching=_ref.fetching;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(FetchingState.Provider,{value:{fetching:fetching},children:children})};FetchingStateProvider.displayName="FetchingStateProvider",FetchingStateProvider.propTypes={fetching:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool.isRequired,children:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.node,prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.array]).isRequired},FetchingStateProvider.__docgenInfo={description:"",methods:[],displayName:"FetchingStateProvider",props:{fetching:{type:{name:"bool"},required:!0,description:""},children:{type:{name:"union",value:[{name:"node"},{name:"array"}]},required:!0,description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src\\components\\fetching\\index.jsx"]={name:"FetchingStateProvider",docgenInfo:FetchingStateProvider.__docgenInfo,path:"src\\components\\fetching\\index.jsx"})},23:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"d",(function(){return FOCUSED})),__webpack_require__.d(__webpack_exports__,"c",(function(){return EXP})),__webpack_require__.d(__webpack_exports__,"b",(function(){return CVV})),__webpack_require__.d(__webpack_exports__,"a",(function(){return CARD})),__webpack_require__.d(__webpack_exports__,"g",(function(){return NAME})),__webpack_require__.d(__webpack_exports__,"h",(function(){return PAY})),__webpack_require__.d(__webpack_exports__,"f",(function(){return IN_FOCUS})),__webpack_require__.d(__webpack_exports__,"e",(function(){return HAS_ERROR})),__webpack_require__.d(__webpack_exports__,"i",(function(){return URL}));var FOCUSED="Mui-focused",EXP="expiry",CVV="cvv",CARD="card-number",NAME="name",PAY="pay-now",IN_FOCUS="data-bambora-in-focus",HAS_ERROR="data-bambora-has-error",URL="https://libs.na.bambora.com/customcheckout/1/customcheckout.js"},492:function(module,exports,__webpack_require__){__webpack_require__(493),__webpack_require__(648),__webpack_require__(649),__webpack_require__(852),__webpack_require__(853),module.exports=__webpack_require__(845)},560:function(module,exports){},649:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__(360)},845:function(module,exports,__webpack_require__){"use strict";(function(module){(0,__webpack_require__(360).configure)([__webpack_require__(846)],module,!1)}).call(this,__webpack_require__(176)(module))},846:function(module,exports,__webpack_require__){var map={"./bambora.stories.jsx":854,"./components/field/field.stories.jsx":851};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=846},851:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"WithLabel",(function(){return WithLabel})),__webpack_require__.d(__webpack_exports__,"WithLabelError",(function(){return WithLabelError})),__webpack_require__.d(__webpack_exports__,"WithOutlinedVariant",(function(){return WithOutlinedVariant}));__webpack_require__(11),__webpack_require__(0);var ___WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(97),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(13);__webpack_exports__.default={title:"Bambora/Text Field",parameters:{component:___WEBPACK_IMPORTED_MODULE_2__.a,componentSubtitle:"Placeholder input where Bambora injects HTML"}};var WithLabel=function WithLabel(){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(___WEBPACK_IMPORTED_MODULE_2__.a,{id:"foo",label:"Foo"})};WithLabel.displayName="WithLabel";var WithLabelError=function WithLabelError(){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(___WEBPACK_IMPORTED_MODULE_2__.a,{id:"foo",label:"Foo",error:"Foo is a required field"})};WithLabelError.displayName="WithLabelError";var WithOutlinedVariant=function WithOutlinedVariant(){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(___WEBPACK_IMPORTED_MODULE_2__.a,{id:"foo",label:"Foo",variant:"outlined"})};WithOutlinedVariant.displayName="WithOutlinedVariant",WithLabel.parameters=Object.assign({storySource:{source:'() => (\r\n  <Field id="foo" label="Foo" />\r\n)'}},WithLabel.parameters),WithLabelError.parameters=Object.assign({storySource:{source:'() => (\r\n  <Field\r\n    id="foo"\r\n    label="Foo"\r\n    error="Foo is a required field"\r\n  />\r\n)'}},WithLabelError.parameters),WithOutlinedVariant.parameters=Object.assign({storySource:{source:'() => (\r\n  <Field id="foo" label="Foo" variant="outlined" />\r\n)'}},WithOutlinedVariant.parameters),WithLabel.__docgenInfo={description:"",methods:[],displayName:"WithLabel"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src\\components\\field\\field.stories.jsx"]={name:"WithLabel",docgenInfo:WithLabel.__docgenInfo,path:"src\\components\\field\\field.stories.jsx"}),WithLabelError.__docgenInfo={description:"",methods:[],displayName:"WithLabelError"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src\\components\\field\\field.stories.jsx"]={name:"WithLabelError",docgenInfo:WithLabelError.__docgenInfo,path:"src\\components\\field\\field.stories.jsx"}),WithOutlinedVariant.__docgenInfo={description:"",methods:[],displayName:"WithOutlinedVariant"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src\\components\\field\\field.stories.jsx"]={name:"WithOutlinedVariant",docgenInfo:WithOutlinedVariant.__docgenInfo,path:"src\\components\\field\\field.stories.jsx"})},854:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Demo",(function(){return bambora_stories_Demo})),__webpack_require__.d(__webpack_exports__,"WithOptions",(function(){return bambora_stories_WithOptions})),__webpack_require__.d(__webpack_exports__,"WithRef",(function(){return bambora_stories_WithRef}));__webpack_require__(65),__webpack_require__(20),__webpack_require__(847),__webpack_require__(11);var react=__webpack_require__(0),react_default=__webpack_require__.n(react),Grid=__webpack_require__(890),TextField=__webpack_require__(893),components_field=__webpack_require__(97),constants=__webpack_require__(23),jsx_runtime=__webpack_require__(13),prop_types=(__webpack_require__(299),__webpack_require__(33),__webpack_require__(36),__webpack_require__(77),__webpack_require__(39),__webpack_require__(40),__webpack_require__(47),__webpack_require__(60),__webpack_require__(12),__webpack_require__(120),__webpack_require__(1)),prop_types_default=__webpack_require__.n(prop_types),lodash=__webpack_require__(183);__webpack_require__(114),__webpack_require__(119),__webpack_require__(59),__webpack_require__(17),__webpack_require__(51),__webpack_require__(52),__webpack_require__(849),__webpack_require__(75),__webpack_require__(24);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}var hasPath=function hasPath(e,path){return"object"===_typeof(e)&&null!==e&&path in e},isFn=function isFn(e){return"function"==typeof e},invoke=function invoke(e,path){for(var _len=arguments.length,args=new Array(_len>2?_len-2:0),_key=2;_key<_len;_key++)args[_key-2]=arguments[_key];return path.split(".").reduce((function(curr,part){return hasPath(curr,part)?(isFn(curr[part])&&curr[part].apply(curr,args),curr[part]):null}),e)};function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function adapter_typeof(obj){return(adapter_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}var adapter_FormFieldComponents=function(){function FormFieldComponents(f,instance){if(function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,FormFieldComponents),!document)throw new Error("Global document required");this.id=f,this.el=document.getElementById("".concat(f,"-container")),this.isReady=!1,this.el&&(this.helper=this.el.querySelector("#".concat(f,"-helper")),this.input=this.el.querySelector("#".concat(f)),this.label=this.el.querySelector("label"),this.$bambora=instance)}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(FormFieldComponents,[{key:"setHelper",value:function setHelper(msg){var e=this.helper;e&&(msg?(e.setAttribute("style",null),e.innerHTML=msg):(e.setAttribute("style","display: none;"),e.innerHTML=""))}},{key:"setValue",value:function setValue(bool){this.hasValue=bool}},{key:"setError",value:function setError(msg){this.hasError=!0,this.setHelper(msg),invoke(this.input,"setAttribute",constants.e,!0),invoke(this.label,"setAttribute",constants.e,!0)}},{key:"isComplete",value:function isComplete(){this.hasError=!1,invoke(this.input,"removeAttribute",constants.e),invoke(this.label,"removeAttribute",constants.e),this.hasValue=!0,this.isReady=!0,this.setHelper(null)}},{key:"isIncomplete",value:function isIncomplete(){this.isReady=!1}},{key:"removeFocusedClassNames",value:function removeFocusedClassNames(){invoke(this.input,"parentElement.classList.remove",constants.d),this.hasValue||(invoke(this.input,"removeAttribute",constants.f),invoke(this.label,"removeAttribute",constants.f))}},{key:"setFocusedClassNames",value:function setFocusedClassNames(){invoke(this.input,"setAttribute",constants.f,!0),invoke(this.label,"setAttribute",constants.f,!0),invoke(this.input,"parentElement.classList.add",constants.d)}}]),FormFieldComponents}(),adapter=function(checkout,options){var opts=function getOptionByFieldName(){var options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(fieldName){try{if("object"!==adapter_typeof(options)||null===options||!(fieldName in options))throw new Error("Unknown option");return options[fieldName]}catch(e){return{}}}}(options),state=[constants.a,constants.b,constants.c].reduce((function(acc,curr){var el=checkout.create(curr,Object.assign({},opts(curr),{style:{base:{}}}));return"undefined"!=typeof window&&document.getElementById(curr)?(el.mount("#".concat(curr)),Object.assign(acc,function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}({},curr,new adapter_FormFieldComponents(curr,el)))):(el.clear(),el.unmount(),acc)}),{});if(Object.keys(state).length&&checkout){var route=function route(fn){return function(args){return fn.call(state[args.field],args)}};checkout.clearAll=function(){return Object.values(state).forEach((function(v){v.$bambora.clear()}))},checkout.on("focus",route((function(){this.setFocusedClassNames()}))),checkout.on("blur",route((function(){this.removeFocusedClassNames()}))),checkout.on("empty",route((function(v){this.setValue(!v.empty)}))),checkout.on("error",route((function(o){this.setError(o.message)}))),checkout.on("complete",route((function(v){v.complete?this.isComplete():this.isIncomplete()})))}};function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var components_fetching=__webpack_require__(152);function form_slicedToArray(arr,i){return function form_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function form_iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function form_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return form_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return form_arrayLikeToArray(o,minLen)}(arr,i)||function form_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function form_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var form_Form=function Form(_ref){var onTokenization=_ref.onTokenization,onSubmit=_ref.onSubmit,children=_ref.children,_React$useState2=form_slicedToArray(react_default.a.useState(!1),2),fetching=_React$useState2[0],setFetching=_React$useState2[1];return Object(jsx_runtime.jsx)("form",{onSubmit:onSubmit((function(){return setFetching(!0)}),(function(res){return onTokenization(res).then((function(){return setFetching(!1)}))})),children:Object(jsx_runtime.jsx)(components_fetching.b,{fetching:fetching,children:Object(jsx_runtime.jsx)(Grid.a,{container:!0,spacing:1,children:children})})})};form_Form.displayName="Form",form_Form.propTypes={onTokenization:prop_types_default.a.func.isRequired,onSubmit:prop_types_default.a.func.isRequired,children:prop_types_default.a.oneOfType([prop_types_default.a.array,prop_types_default.a.node,prop_types_default.a.object]).isRequired},form_Form.__docgenInfo={description:"",methods:[],displayName:"Form",props:{onTokenization:{type:{name:"func"},required:!0,description:"Callback for post-adapter submission."},onSubmit:{type:{name:"func"},required:!0,description:"Callback to generate token."},children:{type:{name:"union",value:[{name:"array"},{name:"node"},{name:"object"}]},required:!0,description:"Ideally, an area of Fields. The adapter assumes so."}}};var components_form=function withCheckout(Component){return react_default.a.forwardRef((function(props,ref){var src,_React$useState2,state,setState,ready=form_slicedToArray((src=constants.i,_React$useState2=_slicedToArray(react_default.a.useState({loaded:!1,error:!1}),2),state=_React$useState2[0],setState=_React$useState2[1],react_default.a.useEffect((function(){if(document){var script=document.createElement("script");script.src=src,script.async=!0;var onScriptLoad=function onScriptLoad(){setState({loaded:!0,error:!1})},onScriptError=function onScriptError(){script.remove(),setState({loaded:!0,error:!0})};return script.addEventListener("load",onScriptLoad),script.addEventListener("error",onScriptError),document.body.appendChild(script),function(){script.removeEventListener("load",onScriptLoad),script.removeEventListener("error",onScriptError)}}}),[src]),[state.loaded,state.error]),1)[0],remoteForm=ref||react_default.a.useRef(),clearAll=function clearAll(){return Object(lodash.invoke)(remoteForm,"current.clearAll")};react_default.a.useEffect((function(){if((ready||"customcheckout"in window)&&!remoteForm.current){var inst=window.customcheckout();return adapter(inst,props.options),remoteForm.current=inst,clearAll}}),[ready]);var handleCheckout=react_default.a.useCallback((function(pre,post){return function(e){e.preventDefault(),pre(),remoteForm.current.createToken((function(r){var input,ch=(input=document.getElementById(constants.g),{addToPayload:function addToPayload(obj){return input?Object.assign(obj,{cardholder:input.value}):obj},clear:function clear(){input&&(input.value="")}});return post(ch.addToPayload(r)).then(ch.clear).then(clearAll)}))}}),[remoteForm]);return Object(jsx_runtime.jsx)(Component,Object.assign({},props,{onSubmit:handleCheckout}))}))}(form_Form);"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src\\components\\form\\index.jsx"]={name:"Form",docgenInfo:form_Form.__docgenInfo,path:"src\\components\\form\\index.jsx"});var Button=__webpack_require__(896),CircularProgress=__webpack_require__(892),Box=__webpack_require__(895),submit_Submit=function Submit(_ref){var label=_ref.label,color=_ref.color,variant=_ref.variant,size=_ref.size,fetching=react_default.a.useContext(components_fetching.a).fetching;return Object(jsx_runtime.jsx)(Box.a,{mt:1,mx:.5,children:fetching?Object(jsx_runtime.jsx)(CircularProgress.a,{}):Object(jsx_runtime.jsx)(Button.a,{id:constants.h,color:color,variant:variant,size:size,type:"submit",children:label})})};submit_Submit.displayName="Submit",submit_Submit.propTypes={label:prop_types_default.a.string,color:prop_types_default.a.string,variant:prop_types_default.a.string,size:prop_types_default.a.string},submit_Submit.defaultProps={label:"Pay now",color:"primary",variant:"contained",size:"large"},submit_Submit.__docgenInfo={description:"Although the disable prop is enabled here,\r\nthe Adapter utility actually controls itself value.",methods:[],displayName:"Submit",props:{label:{defaultValue:{value:"'Pay now'",computed:!1},type:{name:"string"},required:!1,description:"Form's submit label."},color:{defaultValue:{value:"'primary'",computed:!1},type:{name:"string"},required:!1,description:"Material UI button color prop"},variant:{defaultValue:{value:"'contained'",computed:!1},type:{name:"string"},required:!1,description:"Material UI button variant prop"},size:{defaultValue:{value:"'large'",computed:!1},type:{name:"string"},required:!1,description:"Material UI button size prop"}}};var components_submit=submit_Submit;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src\\components\\submit\\index.jsx"]={name:"Submit",docgenInfo:submit_Submit.__docgenInfo,path:"src\\components\\submit\\index.jsx"});var src_Name=function Name(props){var field=components_field.a.defaultProps;return field.error=Boolean(field.error),Object(jsx_runtime.jsx)(Grid.a,{item:!0,xs:!0,children:Object(jsx_runtime.jsx)(TextField.a,Object.assign({id:constants.g,name:constants.g,fullWidth:!0,required:!0},field,props))})};src_Name.displayName="Name";var src_CreditCardField=function CreditCardField(props){return Object(jsx_runtime.jsx)(components_field.a,Object.assign({id:constants.a},props))};src_CreditCardField.displayName="CreditCardField";var src_CvvField=function CvvField(props){return Object(jsx_runtime.jsx)(components_field.a,Object.assign({id:constants.b},props))};src_CvvField.displayName="CvvField";var src_ExpiryField=function ExpiryField(props){return Object(jsx_runtime.jsx)(components_field.a,Object.assign({id:constants.c},props))};src_ExpiryField.displayName="ExpiryField",src_Name.__docgenInfo={description:"This is very important!\r\nWe must wire-up the IDs before exporting.",methods:[],displayName:"Name"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src\\index.jsx"]={name:"Name",docgenInfo:src_Name.__docgenInfo,path:"src\\index.jsx"}),src_CreditCardField.__docgenInfo={description:"",methods:[],displayName:"CreditCardField"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src\\index.jsx"]={name:"CreditCardField",docgenInfo:src_CreditCardField.__docgenInfo,path:"src\\index.jsx"}),src_CvvField.__docgenInfo={description:"",methods:[],displayName:"CvvField"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src\\index.jsx"]={name:"CvvField",docgenInfo:src_CvvField.__docgenInfo,path:"src\\index.jsx"}),src_ExpiryField.__docgenInfo={description:"",methods:[],displayName:"ExpiryField"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src\\index.jsx"]={name:"ExpiryField",docgenInfo:src_ExpiryField.__docgenInfo,path:"src\\index.jsx"});__webpack_exports__.default={title:"Bambora",parameters:{component:components_form,componentSubtitle:"Material UI implementation for credit card tokenization"}};var bambora_stories_Demo=function Demo(){return Object(jsx_runtime.jsxs)(components_form,{onTokenization:function onTokenization(e){return new Promise((function(resolve){setTimeout((function(){console.log(e),resolve()}),2e3)}))},children:[Object(jsx_runtime.jsx)(src_Name,{label:"Name"}),Object(jsx_runtime.jsx)(src_CreditCardField,{label:"Credit card number"}),Object(jsx_runtime.jsx)(src_CvvField,{label:"CVV"}),Object(jsx_runtime.jsx)(src_ExpiryField,{label:"Expiry"}),Object(jsx_runtime.jsx)(components_submit,{})]})};bambora_stories_Demo.displayName="Demo";var bambora_stories_WithOptions=function WithOptions(){return Object(jsx_runtime.jsxs)(components_form,{options:{"card-number":{brands:["visa"]}},onTokenization:function onTokenization(){return new Promise((function(resolve){setTimeout((function(){resolve()}),2e3)}))},children:[Object(jsx_runtime.jsx)(src_CreditCardField,{label:"Credit card number"}),Object(jsx_runtime.jsx)(src_CvvField,{label:"CVV"}),Object(jsx_runtime.jsx)(src_ExpiryField,{label:"Expiry"}),Object(jsx_runtime.jsx)(components_submit,{})]})};bambora_stories_WithOptions.displayName="WithOptions";var bambora_stories_WithRef=function WithRef(){var ref=react_default.a.createRef();return Object(jsx_runtime.jsxs)(components_form,{ref:ref,options:{"card-number":{brands:["visa"]}},onTokenization:function onTokenization(){return new Promise((function(resolve){setTimeout((function(){resolve()}),2e3)}))},children:[Object(jsx_runtime.jsx)(src_CreditCardField,{label:"Credit card number"}),Object(jsx_runtime.jsx)(src_CvvField,{label:"CVV"}),Object(jsx_runtime.jsx)(src_ExpiryField,{label:"Expiry"}),Object(jsx_runtime.jsx)("button",{type:"button",onClick:function onClick(){console.log(ref)},children:"Log ref to console"})]})};bambora_stories_WithRef.displayName="WithRef",bambora_stories_Demo.parameters=Object.assign({storySource:{source:'() => (\r\n  <Bambora\r\n    onTokenization={(e) =>\r\n      new Promise((resolve) => {\r\n        setTimeout(() => {\r\n          \r\n          console.log(e);\r\n          resolve();\r\n        }, 2000);\r\n      })\r\n    }\r\n  >\r\n    <Name label="Name" />\r\n    <CreditCardField label="Credit card number" />\r\n    <CvvField label="CVV" />\r\n    <ExpiryField label="Expiry" />\r\n    <Submit />\r\n  </Bambora>\r\n)'}},bambora_stories_Demo.parameters),bambora_stories_WithOptions.parameters=Object.assign({storySource:{source:'() => (\r\n  <Bambora\r\n    options={{\r\n      \'card-number\': {\r\n        brands: [\'visa\'],\r\n      },\r\n    }}\r\n    onTokenization={() =>\r\n      new Promise((resolve) => {\r\n        setTimeout(() => {\r\n          resolve();\r\n        }, 2000);\r\n      })\r\n    }\r\n  >\r\n    <CreditCardField label="Credit card number" />\r\n    <CvvField label="CVV" />\r\n    <ExpiryField label="Expiry" />\r\n    <Submit />\r\n  </Bambora>\r\n)'}},bambora_stories_WithOptions.parameters),bambora_stories_WithRef.parameters=Object.assign({storySource:{source:'() => {\r\n  const ref = React.createRef();\r\n\r\n  return (\r\n    <Bambora\r\n      ref={ref}\r\n      options={{\r\n        \'card-number\': {\r\n          brands: [\'visa\'],\r\n        },\r\n      }}\r\n      onTokenization={() =>\r\n        new Promise((resolve) => {\r\n          setTimeout(() => {\r\n            resolve();\r\n          }, 2000);\r\n        })\r\n      }\r\n    >\r\n      <CreditCardField label="Credit card number" />\r\n      <CvvField label="CVV" />\r\n      <ExpiryField label="Expiry" />\r\n      <button\r\n        type="button"\r\n        onClick={() => {\r\n          \r\n          console.log(ref);\r\n        }}\r\n      >\r\n        Log ref to console\r\n      </button>\r\n    </Bambora>\r\n  );\r\n}'}},bambora_stories_WithRef.parameters),bambora_stories_Demo.__docgenInfo={description:"",methods:[],displayName:"Demo"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src\\bambora.stories.jsx"]={name:"Demo",docgenInfo:bambora_stories_Demo.__docgenInfo,path:"src\\bambora.stories.jsx"}),bambora_stories_WithOptions.__docgenInfo={description:"",methods:[],displayName:"WithOptions"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src\\bambora.stories.jsx"]={name:"WithOptions",docgenInfo:bambora_stories_WithOptions.__docgenInfo,path:"src\\bambora.stories.jsx"}),bambora_stories_WithRef.__docgenInfo={description:"",methods:[],displayName:"WithRef"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src\\bambora.stories.jsx"]={name:"WithRef",docgenInfo:bambora_stories_WithRef.__docgenInfo,path:"src\\bambora.stories.jsx"})},97:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(11),__webpack_require__(17),__webpack_require__(30),__webpack_require__(33);var react=__webpack_require__(0),react_default=__webpack_require__.n(react),prop_types=__webpack_require__(1),prop_types_default=__webpack_require__.n(prop_types),Grid=__webpack_require__(890),FilledInput=__webpack_require__(889),OutlinedInput=__webpack_require__(898),FormHelperText=__webpack_require__(891),FormControl=__webpack_require__(899),InputLabel=__webpack_require__(900),lodash=(__webpack_require__(299),__webpack_require__(36),__webpack_require__(20),__webpack_require__(77),__webpack_require__(39),__webpack_require__(40),__webpack_require__(47),__webpack_require__(60),__webpack_require__(12),__webpack_require__(120),__webpack_require__(183)),constants=__webpack_require__(23);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var useObserver=function(){var ref=react_default.a.useRef(),_React$useState2=_slicedToArray(react_default.a.useState(!1),2),inFocus=_React$useState2[0],setInFocus=_React$useState2[1],_React$useState4=_slicedToArray(react_default.a.useState(!1),2),hasError=_React$useState4[0],setHasError=_React$useState4[1],callback=react_default.a.useCallback((function(){setInFocus(Object(lodash.invoke)(ref,"current.hasAttribute",constants.f)),setHasError(Object(lodash.invoke)(ref,"current.hasAttribute",constants.e))}),[]);return react_default.a.useEffect((function(){try{var observer=new MutationObserver(callback);return observer.observe(ref.current,{attributes:!0,childList:!0,subtree:!0}),function(){return observer.disconnect()}}catch(e){return}}),[]),{inFocus:inFocus,hasError:hasError,ref:ref}},jsx_runtime=__webpack_require__(13);function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var label_InputLabelWrapper=function InputLabelWrapper(_ref){var children=_ref.children,rest=_objectWithoutProperties(_ref,["children"]),_useObserver=useObserver(),inFocus=_useObserver.inFocus,ref=_useObserver.ref;return Object(jsx_runtime.jsx)(InputLabel.a,Object.assign({},rest,{shrink:inFocus,ref:ref,children:children}))};label_InputLabelWrapper.displayName="InputLabelWrapper",label_InputLabelWrapper.propTypes={children:prop_types_default.a.string.isRequired},label_InputLabelWrapper.__docgenInfo={description:"",methods:[],displayName:"InputLabelWrapper",props:{children:{type:{name:"string"},required:!0,description:"Populates the visible field label element."}}};var components_label=label_InputLabelWrapper;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src\\components\\label\\index.jsx"]={name:"InputLabelWrapper",docgenInfo:label_InputLabelWrapper.__docgenInfo,path:"src\\components\\label\\index.jsx"});var components_fetching=__webpack_require__(152);function field_objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function field_objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var field_TextFieldWrapper=function TextFieldWrapper(_ref){var id=_ref.id,label=_ref.label,variant=_ref.variant,error=_ref.error,size=_ref.size,rest=field_objectWithoutProperties(_ref,["id","label","variant","error","size"]),El="filled"===variant?FilledInput.a:OutlinedInput.a,_useObserver=useObserver(),ref=_useObserver.ref,hasError=_useObserver.hasError,inFocus=_useObserver.inFocus,fetching=react_default.a.useContext(components_fetching.a).fetching,commonAttrs=Object.assign({error:hasError,required:!0,size:size,label:label,variant:variant},rest);return Object(jsx_runtime.jsx)(Grid.a,{item:!0,md:id===constants.a?12:6,xs:12,children:Object(jsx_runtime.jsxs)(FormControl.a,{fullWidth:!0,id:"".concat(id,"-container"),size:"small",children:[Object(jsx_runtime.jsx)(components_label,Object.assign({htmlFor:id},commonAttrs,{children:label})),Object(jsx_runtime.jsx)(El,Object.assign({id:id,inputRef:ref,inputComponent:"div",disabled:fetching,readOnly:fetching,name:label,notched:inFocus},commonAttrs)),Object(jsx_runtime.jsx)(FormHelperText.a,{error:!0,id:"".concat(id,"-helper"),style:{display:"none"},children:error})]})})};field_TextFieldWrapper.displayName="TextFieldWrapper",field_TextFieldWrapper.propTypes={id:prop_types_default.a.string.isRequired,label:prop_types_default.a.string.isRequired,variant:prop_types_default.a.oneOf(["standard","filled","outlined"]),size:prop_types_default.a.oneOf(["regular","small"]),error:prop_types_default.a.oneOfType([prop_types_default.a.string,prop_types_default.a.bool]),margin:prop_types_default.a.string},field_TextFieldWrapper.defaultProps={margin:void 0,variant:"outlined",size:"small",error:""},field_TextFieldWrapper.__docgenInfo={description:"Note that Material UI needs some styling normalization here.\r\nAs well, some of the hard-coded props (i.e. style) are dynamically\r\naltered by the Adapter utility.",methods:[],displayName:"TextFieldWrapper",props:{margin:{defaultValue:{value:"undefined",computed:!0},type:{name:"string"},required:!1,description:"Material UI margin name"},variant:{defaultValue:{value:"'outlined'",computed:!1},type:{name:"enum",value:[{value:"'standard'",computed:!1},{value:"'filled'",computed:!1},{value:"'outlined'",computed:!1}]},required:!1,description:"Material UI variant name."},size:{defaultValue:{value:"'small'",computed:!1},type:{name:"enum",value:[{value:"'regular'",computed:!1},{value:"'small'",computed:!1}]},required:!1,description:"Matierial UI size name."},error:{defaultValue:{value:"''",computed:!1},type:{name:"union",value:[{name:"string"},{name:"bool"}]},required:!1,description:"Error message to display as field helper text."},id:{type:{name:"string"},required:!0,description:"Unique ID so that Bambora can populate the element with a real text input."},label:{type:{name:"string"},required:!0,description:"Populates the visible field label element."}}};__webpack_exports__.a=field_TextFieldWrapper;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src\\components\\field\\index.jsx"]={name:"TextFieldWrapper",docgenInfo:field_TextFieldWrapper.__docgenInfo,path:"src\\components\\field\\index.jsx"})}},[[492,2,3]]]);